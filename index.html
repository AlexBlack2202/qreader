<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Qreader by nisrulz</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Qreader</h1>
        <p>A library that uses google&#39;s mobile vision api and simplify the QR code reading process</p>
        <p class="view"><a href="https://github.com/nisrulz/qreader">View the Project on GitHub <small>nisrulz/qreader</small></a></p>
        <ul>
          <li><a href="https://github.com/nisrulz/qreader/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/nisrulz/qreader/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/nisrulz/qreader">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="qreader" class="anchor" href="#qreader" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>QREader</h1>

<p><a href="https://maven-badges.herokuapp.com/maven-central/com.github.nisrulz/qreader"><img src="https://maven-badges.herokuapp.com/maven-central/com.github.nisrulz/qreader/badge.svg" alt="Maven Central"></a> <a href="https://android-arsenal.com/details/1/3478"><img src="https://img.shields.io/badge/Android%20Arsenal-QREader-green.svg?style=true" alt="Android Arsenal"></a></p>

<p><a href="https://twitter.com/nisrulz"><img src="https://img.shields.io/twitter/follow/nisrulz.svg?style=social" alt="Twitter Follow"></a></p>

<p>A library that uses google's mobile vision api and simplify the QR code reading process </p>

<h1>
<a id="integration" class="anchor" href="#integration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Integration</h1>

<ul>
<li>QREader is available in the MavenCentral, so getting it as simple as adding it as a dependency</li>
</ul>

<div class="highlight highlight-source-groovy-gradle"><pre>compile <span class="pl-s"><span class="pl-pds">'</span>com.github.nisrulz:qreader:1.0.6<span class="pl-pds">'</span></span></pre></div>

<h1>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h1>

<ul>
<li>First add a <code>SurfaceView</code> to your layout and give it an id</li>
</ul>

<div class="highlight highlight-source-java"><pre><span class="pl-k">&lt;</span><span class="pl-smi">SurfaceView</span>
        android<span class="pl-k">:</span>id<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>@+id/camera_view<span class="pl-pds">"</span></span>
        android<span class="pl-k">:</span>layout_width<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>320dp<span class="pl-pds">"</span></span>
        android<span class="pl-k">:</span>layout_height<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>320dp<span class="pl-pds">"</span></span><span class="pl-k">/</span><span class="pl-k">&gt;</span></pre></div>

<ul>
<li>Then in your Activity code reference the <code>SurfaceView</code>
</li>
</ul>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">SurfaceView</span> surfaceView <span class="pl-k">=</span> (<span class="pl-smi">SurfaceView</span>) findViewById(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>camera_view);</pre></div>

<ul>
<li>
<p>Next create an object of <code>QREader</code> using the <code>Builder</code> in your <code>onCreate()</code></p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">QREader</span> qrEader;
<span class="pl-c1">.</span>
<span class="pl-c1">..</span>
<span class="pl-c1">...</span>
 @<span class="pl-smi">Override</span> <span class="pl-k">protected</span> <span class="pl-k">void</span> onCreate(<span class="pl-smi">Bundle</span> savedInstanceState) {
    <span class="pl-c1">..</span>

    surfaceView <span class="pl-k">=</span> (<span class="pl-smi">SurfaceView</span>) findViewById(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>camera_view);

    qrEader <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">QREader</span>.<span class="pl-smi">Builder</span>(<span class="pl-v">this</span>, surfaceView, <span class="pl-k">new</span> <span class="pl-smi">QRDataListener</span>() {
      <span class="pl-k">@Override</span> <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onDetected</span>(<span class="pl-k">final</span> <span class="pl-smi">String</span> <span class="pl-v">data</span>) {
        <span class="pl-c">// Do something with the string data</span>

        <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-s"><span class="pl-pds">"</span>QREader<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Value : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> data);
      }
    })<span class="pl-k">.</span>build();
  }    </pre></div>

<p><em>where</em> </p>

<ul>
<li>
<code>Builder</code> takes in arguments as <code>Builder(context, surfaceview, qrdatalistner)</code>
</li>
<li>
<strong>[Optional]</strong> To modify further you can call  below functions on the <code>Builder</code> before calling the <code>build()</code>

<ul>
<li>
<code>enableAutofocus(boolean autofocus_enabled)</code>  // Default is <code>true</code>
</li>
<li>
<code>width(int width)</code> // Default is <code>800</code>
</li>
<li>
<code>height(int height)</code> // Default is <code>800</code>
</li>
<li>
<code>facing(int facing)</code> // Default is <code>QREader.BACK_CAM</code>

<ul>
<li>where argument can be one of  <code>QREader.BACK_CAM</code> , <code>QREader.FRONT_CAM</code>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Next Call <code>qrEader.init()</code>, right after you <code>build()</code> your object using the <code>Builder</code>.</p>

<div class="highlight highlight-source-java"><pre> @<span class="pl-smi">Override</span> <span class="pl-k">protected</span> <span class="pl-k">void</span> onCreate(<span class="pl-smi">Bundle</span> savedInstanceState) {
    <span class="pl-c1">..</span>

    qrEader <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">QREader</span>.<span class="pl-smi">Builder</span>(<span class="pl-v">this</span>, surfaceView, <span class="pl-k">new</span> <span class="pl-smi">QRDataListener</span>() {
      <span class="pl-k">@Override</span> <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onDetected</span>(<span class="pl-k">final</span> <span class="pl-smi">String</span> <span class="pl-v">data</span>) {
        <span class="pl-c1">..</span>
      }
    })<span class="pl-k">.</span>build();

    <span class="pl-c">// Call Init</span>
    qrEader<span class="pl-k">.</span>init();
 }    </pre></div>
</li>
<li><p>To start QR code detection, call <code>start()</code> on the <code>qreader</code> object </p></li>
</ul>

<div class="highlight highlight-source-java"><pre>qrEader<span class="pl-k">.</span>start();</pre></div>

<ul>
<li>To stop QR code detection, call <code>stop()</code> on the <code>qreader</code> object </li>
</ul>

<div class="highlight highlight-source-java"><pre>qrEader<span class="pl-k">.</span>stop();</pre></div>

<ul>
<li>To release and cleanup , call <code>releaseAndCleanup()</code> on the <code>qreader</code> object </li>
</ul>

<div class="highlight highlight-source-java"><pre>qrEader<span class="pl-k">.</span>releaseAndCleanup();</pre></div>

<blockquote>
<p>NOTE : </p>

<ol>
<li><p>The library uses <code>android.permission.CAMERA</code> permission implicitly. For Android 
platforms Marshmallow and above you need to make sure the permission is requested during<br>
runtime and granted for QREader to function.</p></li>
<li><p>The <code>onDetected(final String data)</code> function call returns the data string on a different
thread, so in order for you to show the result on the main thread you need to use a handler. </p></li>
</ol>
</blockquote>

<h5>
<a id="checkout-the-sample-app-for-implementation" class="anchor" href="#checkout-the-sample-app-for-implementation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Checkout the sample app for implementation</h5>

<p>P.S : You can use this nice <a href="https://www.the-qrcode-generator.com/">QR Code generator</a> to test.</p>

<h1>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h1>

<pre><code>Copyright 2016 Nishant Srivastava

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</code></pre>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/nisrulz">nisrulz</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
